
var DT=function(){this.initialize=function(b,c){if(!b){b=this.date(new Date().valueOf(),"m/d/Y");c="m/d/Y"}this.info=this.getDateTimeArray(b,c);this.informat=c};this.addDays=function(b){this.info.day+=this.intval(b);return this};this.addMonths=function(b){this.info.month+=this.intval(b);return this};this.addYears=function(b){this.info.year+=this.intval(b);return this};this.addHours=function(b){this.info.hour+=this.intval(b);return this};this.addMinutes=function(b){this.info.minute+=this.intval(b);return this};this.addSeconds=function(b){this.info.second+=this.intval(b);return this};this.getDate=function(b){if(!b){b=this.informat}return this.date(new Date(this.intval(this.info.year),this.intval(this.info.month-1),this.intval(this.info.day),this.intval(this.info.hour),this.intval(this.info.minute),this.intval(this.info.second)),b)};this.intval=function(b){if(typeof(b)!="undefined"&&b.length>1&&b.charAt(0)=="0"){b=b.charAt(1)}b=parseInt(b);return isNaN(b)?0:b};this.padint=function(c){var b=new String(c);return(b.length>1)?c:"0"+c};this.getPattern=function(h,e,g){var c=new Array("GH","i","s","mn","dj","Y");var d=e.replace(new RegExp("["+c[g]+"]"),"(.*)");for(var b=0;b<c.length;b++){if(b!=g){d=d.replace(new RegExp("["+c[b]+"]"),".*")}}return d};this.getComponent=function(d,b,c){return this.intval(d.match(new RegExp(this.getPattern(d,b,c)))[1])};this.getHour=function(c,b){return this.getComponent(c,b,0)};this.getMinute=function(c,b){return this.getComponent(c,b,1)};this.getSecond=function(c,b){return this.getComponent(c,b,2)};this.getMonth=function(c,b){return this.getComponent(c,b,3)};this.getDay=function(c,b){return this.getComponent(c,b,4)};this.getYear=function(c,b){return this.getComponent(c,b,5)};this.getDateTimeArray=function(c,b){a=new Array();a.hour=this.getHour(c,b);a.minute=this.getMinute(c,b);a.second=this.getSecond(c,b);a.month=this.getMonth(c,b);a.day=this.getDay(c,b);a.year=this.getYear(c,b);return a};this.getDays=function(b,c){var d=28;if(c==2){if((b%4)==0&&(b%100)!=0||(b%100)==0){d++}}else{if(c<8){d=30+c%2}else{d=31-c%2}}return d};this.timestamp=function(e,b){var c=this.getDateTimeArray(e,b);c=new Date(this.intval(c.year),this.intval(c.month-1),this.intval(c.day),this.intval(c.hour),this.intval(c.minute),this.intval(c.second));return c.valueOf()};this.date=function(e,g){var h=new Date(e);var c=g;for(var b=0;b<g.length;b++){if(b>0&&g.charAt(b-1)=="\\"){continue}switch(g.charAt(b)){case"d":c=c.replace(RegExp("d"),this.padint(h.getDate()));break;case"j":c=c.replace(RegExp("j"),h.getDate());break;case"m":c=c.replace(RegExp("m"),this.padint(h.getMonth()+1));break;case"n":c=c.replace(RegExp("n"),h.getMonth()+1);break;case"Y":c=c.replace(RegExp("Y"),h.getFullYear());break;case"s":c=c.replace(RegExp("s"),this.padint(h.getSeconds()));break;case"i":c=c.replace(RegExp("i"),this.padint(h.getMinutes()));break;case"H":c=c.replace(RegExp("H"),this.padint(h.getHours()));break;case"G":c=c.replace(RegExp("G"),h.getHours());break}}return c};this.format=function(d,b,c){return this.date(new Date(this.timestamp(d,b)),c)};this.compare=function(d,b,c){var f=this.timestamp(d,c);var e=this.timestamp(b,c);if(f>e){return 1}if(e>f){return -1}return 0}};var dt=new DT();