
var Controls=function(){this.$=function(a){return(typeof(a)=="string")?document.getElementById(a):a};this.getStyle=function(a,b){a=this.$(a);if(!a){console.log("getStyle: element not found.");return}if(a.style[b]){return a.style[b.replace(/-\D/g,function(c){return c.charAt(1).toUpperCase()})]}if(a.currentStyle){style=a.currentStyle[b.replace(/-\D/g,function(c){return c.charAt(1).toUpperCase()})]}if(document.defaultView&&document.defaultView.getComputedStyle){if(b.match(/[A-Z]/)){b=b.replace(/([A-Z])/g,"-$1").toLowerCase()}style=window.getComputedStyle(a,"");if(style){style=style.getPropertyValue(b)}}if(!style){style=""}if(style=="auto"){style="0px"}return style};this.hasClass=function(b,a){b=this.$(b);if(!b){console.log("hasClass: element not found.");return false}return(" "+b.className+" ").indexOf(" "+a+" ")!=-1};this.addClass=function(b,a){b=this.$(b);if(!b){console.log("addClass: element not found.");return}if(!this.hasClass(b,a)){b.className=(b.className+" "+a).replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}};this.removeClass=function(b,a){b=this.$(b);if(!b){console.log("removeClass: element not found.");return}b.className=b.className.replace(new RegExp("(^|\\s)"+a+"(?:\\s|$)"),"$1")};this.toggleClass=function(b,a){if(this.hasClass(b,a)){this.removeClass(b,a)}else{this.addClass(b,a)}};this.isIE=function(){var a=parseFloat((navigator.userAgent.match(/ie (\d+)/i)||[0,0])[1]);return a===-1?false:a};this.getCompatElement=function(){if(this.isIE()){return document.getElementsByTagName("body")[0]}return((!document.compatMode||document.compatMode=="CSS1Compat"))?document.documentElement:document.body};this.isBody=function(a){return(/^(?:body|html)$/i).test(a.tagName)};this.getClientPosition=function(a){return{x:(a.pageX)?a.pageX-window.pageXOffset:a.clientX,y:(a.pageY)?a.pageY-window.pageYOffset:a.clientY}};this.getPagePosition=function(a){return{x:a.pageX||a.clientX+document.scrollLeft,y:a.pageY||a.clientY+document.scrollTop}};this.getEventTarget=function(a){var b=a.target||a.srcElement;while(b&&b.nodeType==3){b=b.parentNode}return b};this.addEvent=function(c,b,a){c=this.$(c);if(!c){console.log("addEvent: element not found.");return 0}if(c.addEventListener){c.addEventListener(b.toLowerCase(),a,false)}else{c.attachEvent("on"+b.toLowerCase(),a)}};this.removeEvent=function(c,b,a){c=this.$(c);if(!c){console.log("removeEvent: element not found.");return 0}if(c.removeEventListener){c.removeEventListener(b.toLowerCase(),a,false)}else{c.detachEvent("on"+b.toLowerCase(),a)}};this.stopEvent=function(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}};this.getWindowSize=function(){if(typeof window.innerWidth!=="undefined"){return{x:window.innerWidth,y:window.innerHeight}}var a=this.getCompatElement();return{x:a.clientWidth,y:a.clientHeight}};this.getWindowScroll=function(){var b=this.f_scrollLeft();var a=this.f_scrollTop();return{x:b,y:a}};this.getWindowScrollSize=function(){var b=this.getCompatElement(),a=this.getWindowSize();return{x:Math.max(b.scrollWidth,a.x),y:Math.max(b.scrollHeight,a.y)}};this.getWindowCoordinates=function(){var a=this.getWindowSize();return{top:0,left:0,bottom:a.y,right:a.x,height:a.y,width:a.x}};this.getSize=function(a){a=this.$(a);if(!a){console.log("getSize: element not found.");return{x:0,y:0}}return(this.isBody(a))?this.getWindowSize():{x:a.offsetWidth,y:a.offsetHeight}};this.getScrollSize=function(a){a=this.$(a);if(!a){console.log("getScrollSize: element not found.");return{x:0,y:0}}return(this.isBody(a))?this.getWindowScrollSize():{x:a.scrollWidth,y:a.scrollHeight}};this.getScroll=function(a){a=this.$(a);if(!a){console.log("getScroll: element not found.");return{x:0,y:0}}return(this.isBody(a))?this.getWindowScroll():{x:a.scrollLeft,y:a.scrollTop}};this.getScrolls=function(b){b=this.$(b);if(!b){console.log("getScrolls: element not found.");return{x:0,y:0}}var a={x:0,y:0};while(b&&!this.isBody(b)){a.x+=b.scrollLeft;a.y+=b.scrollTop;b=b.parentNode}return a};this.getOffsets=function(b){b=this.$(b);if(!b){console.log("getOffsets: element not found.");return{x:0,y:0}}if(b.getBoundingClientRect){var e=b.getBoundingClientRect(),h=this.$(document.documentElement),j=this.getScroll(h),f=this.getScrolls(b),d=this.getScroll(b),c=(this.getStyle(b,"position")=="fixed");return{x:parseInt(e.left)+f.x-d.x+((c)?0:j.x)-h.clientLeft,y:parseInt(e.top)+f.y-d.y+((c)?0:j.y)-h.clientTop}}var a=b,g={x:0,y:0};if(this.isBody(b)){return g}while(b&&!this.isBody(b)){g.x+=b.offsetLeft;g.y+=b.offsetTop;if(document.getBoxObjectFor||window.mozInnerScreenX!=null){if(this.getStyle(b,"-moz-box-sizing")!="border-box"){g.x+=parseInt(this.getStyle(b,"border-left-width"));g.y+=parseInt(this.getStyle(b,"border-top-width"))}var i=b.parentNode;if(i&&this.getStyle(i,"overflow")!="visible"){g.x+=parseInt(this.getStyle(i,"border-left-width"));g.y+=parseInt(this.getStyle(i,"border-top-width"))}}else{if(b!=a&&!navigator.taintEnabled){g.x+=parseInt(this.getStyle(b,"border-left-width"));g.y+=parseInt(this.getStyle(b,"border-top-width"))}}b=b.offsetParent}if((document.getBoxObjectFor||window.mozInnerScreenX!=null)&&this.getStyle(a,"-moz-box-sizing")!="border-box"){g.x+=parseInt(this.getStyle(a,"border-left-width"));g.y+=parseInt(this.getStyle(a,"border-top-width"))}return g};this.getPosition=function(d,e){d=this.$(d);if(!d){console.log("getPosition: element not found.");return{x:0,y:0}}if(this.isBody(d)){return{x:0,y:0}}var f=this.getOffsets(d),b=this.getScrolls(d);var a={x:f.x-b.x,y:f.y-b.y};var c=(e&&(e=this.$(e)))?this.getPosition(e):{x:0,y:0};return{x:a.x-c.x,y:a.y-c.y}};this.getCoordinates=function(c,d){c=this.$(c);if(!c){console.log("getCoordinates: element not found.");return{x:0,y:0}}if(this.isBody(c)){return this.getWindowCoordinates()}var a=this.getPosition(c,d),b=this.getSize(c);var e={left:a.x,top:a.y,width:b.x,height:b.y};e.right=e.left+e.width;e.bottom=e.top+e.height;return e};this.setPosition=function(d,e){d=this.$(d);if(!d){console.log("setPosition: element not found.");return}var b={left:e.x-parseInt(this.getStyle(d,"margin-left")),top:e.y-parseInt(this.getStyle(d,"margin-top"))};var c=d.parentNode;if(this.getStyle(d,"position")!="fixed"){while(c&&!this.isBody(c)){e=this.getStyle(c,"position");if(e=="absolute"||e=="relative"){var e=this.getPosition(c);b.left-=e.x;b.top-=e.y;break}c=c.parentNode}}else{var a=this.getWindowScroll();b.left-=a.x;b.top-=a.y}d.style.left=b.left+"px";d.style.top=b.top+"px"};this.centre=function(d,e){d=this.$(d);if(!d){console.log("centre: element not found.");return}var c=this.getSize(d),b=this.getWindowSize();var a=this.getWindowScroll();xx=(b.x-c.x)/2+a.x;yy=(b.y-c.y)/2+a.y;if(!e){if(xx<0){xx=0}if(yy<0){yy=0}}this.setPosition(d,{x:xx,y:yy})};this.scrollTo=function(a){var b=this.getPosition(a);window.scrollTo(b.x,b.y)};this.focus=function(a,g,e){a=this.$(a);if(!a){console.log("focus: element not found.");return}var i=a.parentNode,d=false;if(this.getStyle(a,"position")!="fixed"){while(i&&!this.isBody(i)){if(this.getStyle(i,"position")=="fixed"){d=true;break}i=i.parentNode}}else{d=true}a=this.$(a);if(!d){g|=0;e|=0;var f=this.getPosition(a),c=this.getWindowSize(),h=this.getWindowScroll();if(f.x>c.x+h.x||f.x<h.x||f.y>c.y+h.y||f.y<h.y){window.scrollTo(f.x+parseInt(g),f.y+parseInt(e))}}try{a.focus()}catch(b){}};this.setOpacity=function(b,a){b=this.$(b);if(!b){console.log("setOpacity: element not found.");return}if(a==0&&b.style.visibility!="hidden"){b.style.visibility="hidden"}else{if(b.style.visibility!="visible"){b.style.visibility="visible"}}if(!b.currentStyle||!b.currentStyle.hasLayout){b.style.zoom=1}if(window.ActiveXObject){b.style.filter=(a==1)?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+a*100+")"}b.style.opacity=a};this.insert=function(a,b){this.$(a).innerHTML=b};this.display=function(a,b){a=this.$(a);if(!a){console.log("display: element not found.");return}if(b!=undefined){a.style.display=b}else{(a.style.display=="none")?a.style.display="":a.style.display="none"}};this.fade=function(d,a,b){if(!a){this.display(d,"none")}else{d=this.$(d);if(b==undefined){b=0.5}var c=this.getWindowSize();d.style.position="fixed";d.style.top="0px";d.style.left="0px";d.style.width=c.x+"px";d.style.height=c.y+"px";this.setOpacity(d,b);this.display(d,"")}};this.makeDraggable=function(b,a,k,f,j,c){var i,h,g;bind=this;b=this.$(b);if(!b){console.log("makeDraggable: element not found.");return}if(a){a=this.$(a)}var d=function(q){var r=bind.getClientPosition(q||event);var t=r.x-i,s=r.y-h;if(a){var n,m,p,o,u=bind.getSize(a),v=bind.getSize(b),r=bind.getPosition(a);p=r.x;o=r.y;n=p+u.x-v.x;m=o+u.y-v.y;if(t<p){t=p}if(t>n){t=n}if(s<o){s=o}if(s>m){s=m}}if(c){if(c.x){if(t<c.x[0]){t=c.x[0]}if(t>c.x[1]){t=c.x[1]}}if(c.y){if(s<c.y[0]){s=c.y[0]}if(s>c.y[1]){s=c.y[1]}}}bind.setPosition(b,{x:t,y:s});if(f){f(g)}return false};var e=function(){document.onmousemove=null;document.onmouseup=null;document.ondragstart=null;document.body.onselectstart=null;if(j){j(g)}};var l=function(m){m=m||event;var o=bind.getClientPosition(m),n=bind.getPosition(b);i=o.x-n.x;h=o.y-n.y;g=bind.getEventTarget(m);if(k){k(g)}document.onmousemove=d;document.onmouseup=e;document.ondragstart=function(){return false};document.body.onselectstart=function(){return false};return false};this.addEvent(b,"mousedown",l)};this.inputFilter=function(c,d){if(!c||!c.value){return false}var a=d.test(c.value);if(a){c.value=c.value.replace(d,"")}return !a};this.inputMask=function(c,f){if(!c||!c.value){return false}var a=f.test(c.value);if(!a){for(var d=0,e="";d<c.value.length;d++){if(!f.test(e+c.value.charAt(d))){c.value=e;return false}e+=c.value.charAt(d)}}return !a};this.sleep=function(a){var b=(new Date()).getTime();while((new Date()).getTime()<b+a){}};this.htmlspecialchars=function(d,c){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},a;if(typeof(c)!="undefined"){c=[];for(a in b){c.push(a)}c.reverse();for(a=0;a<c.length;a++){d=d.replace(new RegExp(b[c[a]],"g"),c[a])}return d}for(a in b){d=d.replace(new RegExp(a,"g"),b[a])}return d};this.f_clientWidth=function(){return this.f_filterResults(window.innerWidth?window.innerWidth:0,document.documentElement?document.documentElement.clientWidth:0,document.body?document.body.clientWidth:0)};this.f_clientHeight=function(){return this.f_filterResults(window.innerHeight?window.innerHeight:0,document.documentElement?document.documentElement.clientHeight:0,document.body?document.body.clientHeight:0)};this.f_scrollLeft=function(){return this.f_filterResults(window.pageXOffset?window.pageXOffset:0,document.documentElement?document.documentElement.scrollLeft:0,document.body?document.body.scrollLeft:0)};this.f_scrollTop=function(){return this.f_filterResults(window.pageYOffset?window.pageYOffset:0,document.documentElement?document.documentElement.scrollTop:0,document.body?document.body.scrollTop:0)};this.f_filterResults=function(d,b,a){var c=d?d:0;if(b&&(!c||(c>b))){c=b}return a&&(!c||(c>a))?a:c}};if(!window.console){window.console={log:function(b){}}}var controls=new Controls();